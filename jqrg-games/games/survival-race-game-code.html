<html lang="en-us">
  <head>
    <script src="/js/panicKey.js"></script>
    <script src="/js/openGame.js"></script>

    <meta charset="utf-8" />
    <meta name="robots" content="noindex, nofollow" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Survival Race</title>
    <style>
      html,
      body {
        background: #000;
        width: 100%;
        height: 100%;
        overflow: visible;
        padding: 0;
        margin: 0;
      }

      div#gameContainer {
        background: transparent !important;
        position: absolute;
      }

      div#gameContainer canvas {
        position: absolute;
      }

      div#gameContainer canvas[data-pixel-art="true"] {
        position: absolute;
        image-rendering: optimizeSpeed;
        image-rendering: -webkit-crisp-edges;
        image-rendering: -moz-crisp-edges;
        image-rendering: -o-crisp-edges;
        image-rendering: crisp-edges;
        image-rendering: -webkit-optimize-contrast;
        image-rendering: optimize-contrast;
        image-rendering: pixelated;
        -ms-interpolation-mode: nearest-neighbor;
      }
        /* Custom Cursor */
      * {
        cursor: url('/cursor/cursor.png') 24 24, auto !important;
      }
</style>
    <script>
      localStorage.setItem("savesData", JSON.stringify({}));
    </script>
  </head>

  <body>
    <div
      id="gameContainer"
      style="width: 1094px; height: 615px; top: 0px; left: 1px"
    >
      <canvas
        id="unity-canvas"
        data-pixel-art=""
        width="1094"
        height="615"
        style="
          background: linear-gradient(
              to right,
              white,
              white 100%,
              transparent 100%,
              transparent
            )
            center center / 100% 1rem no-repeat;
          width: 1094px;
          height: 615px;
          cursor: default;
        "
      ></canvas>
      <script src="https://survival-race.io/game/survival-race/Build/yandexBrotli.loader.js"></script>
      <script>
        let myGameInstance = null;
        let ysdk = null;
        let player = null;
        let leaderboard;
        let payments = null;
        let initGame = false;
        let nowFullAdOpen = false;

        function InitGame() {
          console.log("Init Game Success");
          initGame = true;
        }

        function FullAdShow() {}

        function RewardedShow(id) {}

        function StickyAdActivity(show) {}

        function InitPayments() {}

        function BuyPayments(id) {}
        let callCount_GetPayments = 0;

        function GetPayments() {}

        function ConsumePurchase(id) {}

        function ConsumePurchases() {}

        function InitLeaderboard() {}

        function SetLeaderboardScores(_name, score) {}

        function GetLeaderboardScores(
          nameLB,
          maxPlayers,
          quantityTop,
          quantityAround,
          photoSize,
          auth
        ) {}

        function EntriesLB(res, maxPlayers, photoSize) {
          let LeaderboardEntriesText = "no data";
          let playersCount = 0;
          let ranks = new Array(playersCount);
          let photos = new Array(playersCount);
          let mames = new Array(playersCount);
          let scores = new Array(playersCount);
          let uniqueIDs = new Array(playersCount);
          let jsonPlayers = {
            entries: LeaderboardEntriesText,
            ranks: null,
            photos: photos,
            names: mames,
            scores: scores,
            uniqueIDs: uniqueIDs,
          };
          return jsonPlayers;
        }

        function Review() {}

        function PromptShow() {}

        function PaintRBT(rbt) {}

        function StaticRBTDeactivate() {}
        var cloudSaves = "noData";

        function SaveCloud(jsonData, flush) {}

        function LoadCloud(sendback) {}
        var environmentData = "null";

        function RequestingEnvironmentData(sendback) {}
        var playerData = "noData";

        function InitPlayer(sendback) {}

        function NotAuthorized() {
          let authJson = {
            playerAuth: "rejected",
            playerName: "unauthorized",
            playerId: "unauthorized",
            playerPhoto: "null",
          };
          return JSON.stringify(authJson);
        }

        function OpenAuthDialog() {}
        var canvas = document.querySelector("#unity-canvas");
        var config = {
          dataUrl:
            "https://survival-race.io/game/survival-race/Build/yandexBrotli.data.unityweb",
          frameworkUrl:
            "https://survival-race.io/game/survival-race/Build/yandexBrotli.framework.js.unityweb",
          codeUrl:
            "https://survival-race.io/game/survival-race/Build/yandexBrotli.wasm.unityweb",
          streamingAssetsUrl: "StreamingAssets",
          companyName: "Survival",
          productName: "Survival Race",
          productVersion: "0.0.15",
        };
        var scaleToFit;
        try {
          scaleToFit = !!JSON.parse("true");
        } catch (e) {
          scaleToFit = true;
        }

        function progressHandler(progress) {
          var percent = progress * 100 + "%";
          canvas.style.background =
            "linear-gradient(to right, white, white " +
            percent +
            ", transparent " +
            percent +
            ", transparent) no-repeat center";
          canvas.style.backgroundSize = "100% 1rem";
        }

        function onResize() {
          var container = canvas.parentElement;
          var w;
          var h;
          if (scaleToFit) {
            w = window.innerWidth;
            h = window.innerHeight;
            var r = 540 / 960;
            if (w * r > window.innerHeight) {
              w = Math.min(w, Math.ceil(h / r));
            }
            h = Math.floor(w * r);
          } else {
            w = 960;
            h = 540;
          }
          container.style.width = canvas.style.width = w + "px";
          container.style.height = canvas.style.height = h + "px";
          container.style.top = Math.floor((window.innerHeight - h) / 2) + "px";
          container.style.left = Math.floor((window.innerWidth - w) / 2) + "px";
        }
        var gameInstance;
        createUnityInstance(canvas, config, progressHandler).then(function (
          instance
        ) {
          canvas = instance.Module.canvas;
          onResize();
          gameInstance = instance;
        });
        window.addEventListener("resize", onResize);
        onResize();
      </script>
    </div>

    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'99d9a54e3a2b5b6a',t:'MTc2Mjk4ODQyOA=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener)
            document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState &&
                ((document.onreadystatechange = e), c());
            };
          }
        }
      })();
    </script>
    <script
      defer
      src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015"
      integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ=="
      data-cf-beacon='{"version":"2024.11.0","token":"17fe96e486a9492eb01f96ad403d5010","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}'
      crossorigin="anonymous"
    ></script>
  </body>
</html>
